# ╔══════════════════════════════════════════════════════════════════════════╗
# ║                          KEYBINDINGS CONFIGURATION                       ║
# ║                                                                          ║
# ║  SUPER key (Windows/Command key) is your main modifier                  ║
# ║  Similar to i3, but even more powerful!                                 ║
# ╚══════════════════════════════════════════════════════════════════════════╝

$mainMod = SUPER

# ═══════════════════════════════════════════════════════════════════════════
# APPLICATION SHORTCUTS
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod, RETURN, exec, ghostty                    # Terminal
bind = $mainMod, B, exec, firefox                         # Browser
bind = $mainMod, E, exec, thunar                          # File manager
bind = $mainMod, D, exec, rofi -show drun                 # App launcher
bind = $mainMod SHIFT, D, exec, rofi -show run            # Command launcher
bind = $mainMod, period, exec, rofimoji                   # Emoji picker
bind = $mainMod, V, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy  # Clipboard history
bind = $mainMod, W, exec, rofi-wifi-menu                  # WiFi menu
bind = $mainMod SHIFT, B, exec, rofi-bluetooth            # Bluetooth menu

# ═══════════════════════════════════════════════════════════════════════════
# WINDOW MANAGEMENT
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod SHIFT, Q, killactive,                     # Close focused window
bind = $mainMod SHIFT, E, exit,                           # Exit Hyprland
bind = $mainMod, F, fullscreen, 0                         # Toggle fullscreen
bind = $mainMod SHIFT, F, fullscreen, 1                   # Toggle maximize
bind = $mainMod SHIFT, SPACE, togglefloating,             # Toggle floating
bind = $mainMod, P, pseudo,                               # Pseudo tiling
bind = $mainMod, S, togglesplit,                          # Toggle split direction
bind = $mainMod, T, pin,                                  # Pin window (stays on all workspaces)
bind = $mainMod, G, togglegroup,                          # Toggle window grouping
bind = $mainMod, C, centerwindow,                         # Center floating window

# ═══════════════════════════════════════════════════════════════════════════
# FOCUS MOVEMENT (Vim-style + Arrow keys)
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod, H, movefocus, l                          # Focus left
bind = $mainMod, L, movefocus, r                          # Focus right
bind = $mainMod, K, movefocus, u                          # Focus up
bind = $mainMod, J, movefocus, d                          # Focus down

bind = $mainMod, left, movefocus, l                       # Focus left (arrow)
bind = $mainMod, right, movefocus, r                      # Focus right (arrow)
bind = $mainMod, up, movefocus, u                         # Focus up (arrow)
bind = $mainMod, down, movefocus, d                       # Focus down (arrow)

# ═══════════════════════════════════════════════════════════════════════════
# WINDOW MOVEMENT
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod SHIFT, H, movewindow, l                   # Move window left
bind = $mainMod SHIFT, L, movewindow, r                   # Move window right
bind = $mainMod SHIFT, K, movewindow, u                   # Move window up
bind = $mainMod SHIFT, J, movewindow, d                   # Move window down

bind = $mainMod SHIFT, left, movewindow, l                # Move window left (arrow)
bind = $mainMod SHIFT, right, movewindow, r               # Move window right (arrow)
bind = $mainMod SHIFT, up, movewindow, u                  # Move window up (arrow)
bind = $mainMod SHIFT, down, movewindow, d                # Move window down (arrow)

# ═══════════════════════════════════════════════════════════════════════════
# WINDOW RESIZING
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod CTRL, H, resizeactive, -50 0              # Resize left
bind = $mainMod CTRL, L, resizeactive, 50 0               # Resize right
bind = $mainMod CTRL, K, resizeactive, 0 -50              # Resize up
bind = $mainMod CTRL, J, resizeactive, 0 50               # Resize down

bind = $mainMod CTRL, left, resizeactive, -50 0           # Resize left (arrow)
bind = $mainMod CTRL, right, resizeactive, 50 0           # Resize right (arrow)
bind = $mainMod CTRL, up, resizeactive, 0 -50             # Resize up (arrow)
bind = $mainMod CTRL, down, resizeactive, 0 50            # Resize down (arrow)

# Resize mode (like i3)
bind = $mainMod, R, submap, resize
submap = resize
binde = , H, resizeactive, -20 0
binde = , L, resizeactive, 20 0
binde = , K, resizeactive, 0 -20
binde = , J, resizeactive, 0 20
binde = , left, resizeactive, -20 0
binde = , right, resizeactive, 20 0
binde = , up, resizeactive, 0 -20
binde = , down, resizeactive, 0 20
bind = , escape, submap, reset
bind = , RETURN, submap, reset
submap = reset

# ═══════════════════════════════════════════════════════════════════════════
# WORKSPACE NAVIGATION
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move window to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Move window to workspace silently (don't follow)
bind = $mainMod CTRL SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod CTRL SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod CTRL SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod CTRL SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod CTRL SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod CTRL SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod CTRL SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod CTRL SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod CTRL SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod CTRL SHIFT, 0, movetoworkspacesilent, 10

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bind = $mainMod CTRL, right, workspace, e+1
bind = $mainMod CTRL, left, workspace, e-1

# Special workspace (scratchpad)
bind = $mainMod, minus, togglespecialworkspace, magic
bind = $mainMod SHIFT, minus, movetoworkspace, special:magic

# ═══════════════════════════════════════════════════════════════════════════
# MOUSE BINDINGS
# ═══════════════════════════════════════════════════════════════════════════

bindm = $mainMod, mouse:272, movewindow                   # Move window with mouse
bindm = $mainMod, mouse:273, resizewindow                 # Resize window with mouse

# ═══════════════════════════════════════════════════════════════════════════
# SYSTEM CONTROLS
# ═══════════════════════════════════════════════════════════════════════════

# Screenshots
bind = , PRINT, exec, grim -g "$(slurp)" - | swappy -f -                              # Screenshot area
bind = SHIFT, PRINT, exec, grim - | swappy -f -                                       # Screenshot full screen
bind = $mainMod, PRINT, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S.png')  # Screenshot area to file

# Screen recording
bind = $mainMod SHIFT, R, exec, wf-recorder -g "$(slurp)" -f ~/Videos/$(date +'recording_%Y%m%d_%H%M%S.mp4')

# Audio controls (with beautiful notification)
bindel = , XF86AudioRaiseVolume, exec, pamixer -i 5 && notify-send -a "audio" -h int:value:$(pamixer --get-volume) -h string:x-canonical-private-synchronous:audio " Volume" "$(pamixer --get-volume)%"
bindel = , XF86AudioLowerVolume, exec, pamixer -d 5 && notify-send -a "audio" -h int:value:$(pamixer --get-volume) -h string:x-canonical-private-synchronous:audio " Volume" "$(pamixer --get-volume)%"
bindl = , XF86AudioMute, exec, pamixer -t && ( pamixer --get-mute && notify-send -a "audio" "󰖁 Volume" "Muted" || notify-send -a "audio" -h int:value:$(pamixer --get-volume) " Volume" "$(pamixer --get-volume)%" )
bindl = , XF86AudioMicMute, exec, pamixer --default-source -t && notify-send -a "audio" " Microphone" "Toggled"

# Alternative volume control keys (for keyboards with different mappings)
bindel = , code:123, exec, pamixer -i 5 && notify-send -a "audio" -h int:value:$(pamixer --get-volume) -h string:x-canonical-private-synchronous:audio " Volume" "$(pamixer --get-volume)%"
bindel = , code:122, exec, pamixer -d 5 && notify-send -a "audio" -h int:value:$(pamixer --get-volume) -h string:x-canonical-private-synchronous:audio " Volume" "$(pamixer --get-volume)%"
bindel = , code:121, exec, pamixer -t && ( pamixer --get-mute && notify-send -a "audio" "󰖁 Volume" "Muted" || notify-send -a "audio" -h int:value:$(pamixer --get-volume) " Volume" "$(pamixer --get-volume)%" )

# Media controls (with beautiful notification)
bindl = , XF86AudioPlay, exec, playerctl play-pause && notify-send -a "media" -h string:x-canonical-private-synchronous:media " Media" "$(playerctl status)"
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next && notify-send -a "media" -h string:x-canonical-private-synchronous:media " Next" "$(playerctl metadata title 2>/dev/null || echo 'Next Track')"
bindl = , XF86AudioPrev, exec, playerctl previous && notify-send -a "media" -h string:x-canonical-private-synchronous:media " Previous" "$(playerctl metadata title 2>/dev/null || echo 'Previous Track')"
bindl = , XF86AudioStop, exec, playerctl stop && notify-send -a "media" " Stopped" ""

# Alternative media keys
bindl = , code:172, exec, playerctl play-pause && notify-send -a "media" -h string:x-canonical-private-synchronous:media " Media" "$(playerctl status)"
bindl = , code:171, exec, playerctl next && notify-send -a "media" " Next" "Track"
bindl = , code:173, exec, playerctl previous && notify-send -a "media" " Previous" "Track"

# Brightness controls (with beautiful notification and progress bar)
bindel = , XF86MonBrightnessUp, exec, brightnessctl set +5% && notify-send -a "brightness" -h int:value:$(( $(brightnessctl get) * 100 / $(brightnessctl max) )) -h string:x-canonical-private-synchronous:brightness " Brightness" "$(( $(brightnessctl get) * 100 / $(brightnessctl max) ))%"
bindel = , XF86MonBrightnessDown, exec, brightnessctl set 5%- && notify-send -a "brightness" -h int:value:$(( $(brightnessctl get) * 100 / $(brightnessctl max) )) -h string:x-canonical-private-synchronous:brightness " Brightness" "$(( $(brightnessctl get) * 100 / $(brightnessctl max) ))%"

# Alternative brightness keys
bindel = , code:232, exec, brightnessctl set 5%- && notify-send -a "brightness" -h int:value:$(( $(brightnessctl get) * 100 / $(brightnessctl max) )) " Brightness" "$(( $(brightnessctl get) * 100 / $(brightnessctl max) ))%"
bindel = , code:233, exec, brightnessctl set +5% && notify-send -a "brightness" -h int:value:$(( $(brightnessctl get) * 100 / $(brightnessctl max) )) " Brightness" "$(( $(brightnessctl get) * 100 / $(brightnessctl max) ))%"

# Lock screen
bind = $mainMod, X, exec, swaylock -f --screenshots --effect-blur 10x5 --effect-vignette 0.5:0.5 --clock --indicator

# Power menu (you can create a rofi power menu later)
bind = $mainMod SHIFT, X, exec, rofi -show power-menu -modi power-menu:'~/.config/rofi/scripts/power-menu.sh'

# Reload Hyprland
bind = $mainMod SHIFT, R, exec, hyprctl reload

# ═══════════════════════════════════════════════════════════════════════════
# GROUPING (TABBED CONTAINERS - like i3 tabbed mode)
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod, TAB, changegroupactive, f                # Cycle through tabs forward
bind = $mainMod SHIFT, TAB, changegroupactive, b          # Cycle through tabs backward

# ═══════════════════════════════════════════════════════════════════════════
# ALT+TAB WINDOW SWITCHING (with visual preview like Windows)
# ═══════════════════════════════════════════════════════════════════════════

bind = ALT, TAB, exec, rofi -show window -show-icons      # Alt+Tab with window previews
bind = ALT SHIFT, TAB, exec, rofi -show window -show-icons # Alt+Shift+Tab also works

# ═══════════════════════════════════════════════════════════════════════════
# USEFUL UTILITIES
# ═══════════════════════════════════════════════════════════════════════════

bind = $mainMod SHIFT, C, exec, hyprpicker -a            # Color picker
bind = $mainMod, N, exec, dunstctl close                  # Close notification
bind = $mainMod SHIFT, N, exec, dunstctl close-all        # Close all notifications
bind = $mainMod CTRL, N, exec, dunstctl history-pop       # Show notification history
